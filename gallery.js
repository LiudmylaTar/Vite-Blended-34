var m=e=>{throw TypeError(e)};var y=(e,t,r)=>t.has(e)||m("Cannot "+r);var o=(e,t,r)=>(y(e,t,"read from private field"),r?r.call(e):t.get(e)),l=(e,t,r)=>t.has(e)?m("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),P=(e,t,r,a)=>(y(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r);import"./assets/styles-DGX8ipHg.js";import{a as d,P as _,i as u}from"./assets/vendor-OvO9u9K3.js";var s,n,i;class ${constructor(){l(this,s,"https://api.unsplash.com/search/photos");l(this,n,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");l(this,i,"")}async getPopularPhotos(t){const r=`${o(this,s)}?page=${t}&query=popular&per_page=12&orientation=portrait&client_id=${o(this,n)}`;try{const{data:a}=await d(r);return a}catch(a){console.log(a)}}async getPhotosByQuery(t){const r=`${o(this,s)}?page=${t}&query=${o(this,i)}&per_page=12&orientation=portrait&client_id=${o(this,n)}`;try{const{data:a}=await d(r);return a}catch(a){console.log(a)}}set query(t){P(this,i,t)}}s=new WeakMap,n=new WeakMap,i=new WeakMap;function p(e){return e.map(({alt_description:t,urls:{small:r}})=>` <li class="gallery__item">
  <img class="gallery-img" src="${r}" alt="${t}"></li>`).join("")}const q=document.getElementById("tui-pagination-container"),g=new _(q,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),f=g.getCurrentPage(),h=document.querySelector(".gallery"),w=document.querySelector(".js-search-form");w.addEventListener("submit",async e=>{e.preventDefault();const t=e.target.elements.query.value.trim();if(!t){u.warning({message:"fill the field"});return}c.query=t;try{const r=await c.getPhotosByQuery(f);if(r.results.length===0){u.error({message:"images not found!"});return}h.innerHTML=p(r.results),g.reset(r.total)}catch(r){u.error({message:"Something went wrong."}),console.log(r)}});const c=new $;c.getPopularPhotos(f).then(e=>{h.innerHTML=p(e.results),g.reset(e.total)});g.on("afterMove",e=>{const t=e.page;c.getPopularPhotos(t).then(r=>h.innerHTML=p(r.results))});
//# sourceMappingURL=gallery.js.map
